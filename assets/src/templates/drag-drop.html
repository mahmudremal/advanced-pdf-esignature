<div class="container">
    <h1>Drag'n Drop Demo <small>jQuery UI and Bootstrap</small></h1>
    <div class="row">
        <div class="col-sm-6">
        <div id="modules">
            <p class="drag"><a class="btn btn-default" data-config="{}">Text</a></p>
            <p class="drag"><a class="btn btn-default" data-config="{}">Textarea</a></p>
            <p class="drag"><a class="btn btn-default" data-config="{}">Number</a></p>
        </div>
        </div>

        <div class="col-sm-6">
        <div id="dropzone"></div>
        <button class="btn btn-primary pull-right">Save</button>
        </div>
    </div>
</div>

<style>
    #modules {
        padding: 20px;
        background: #eee;
        margin-bottom: 20px;
        z-index: 1;
        border-radius: 10px;
    }

    #dropzone {
        padding: 20px;
        background: #eee;
        min-height: 100px;
        margin-bottom: 20px;
        z-index: 0;
        border-radius: 10px;
    }

    .active {
        outline: 1px solid red;
    }

    .hover {
        outline: 1px solid blue;
    }

    .drop-item {
        cursor: pointer;
        margin-bottom: 10px;
        background-color: rgb(255, 255, 255);
        padding: 5px 10px;
        border-radisu: 3px;
        border: 1px solid rgb(204, 204, 204);
        position: relative;
    }

    .drop-item .remove {
        position: absolute;
        top: 4px;
        right: 4px;
    }
</style>


<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script>
    const $ = jQuery;
    jQuery('.drag').draggable({appendTo: 'body',helper: 'clone'});
    jQuery('#dropzone').droppable({
        activeClass: 'active',
        hoverClass: 'hover',
        accept: ":not(.ui-sortable-helper)", // Reject clones generated by sortable
        drop: function (e, ui) {
            // e: is an Event
            // ui.draggable: is the Element
            // console.log(ui);
            // var elem, json, config;
            // elem = jQuery(ui.draggable).children('a');
            // console.log(elem);
            // config = jQuery(elem).data('config');json = JSON.parse(config);
            // console.log(json);
            var $el = jQuery(
                `<div class="drop-item">
                    <details>
                        <summary>${ui.draggable.text()}</summary>
                        <div>
                            <label>More Data</label>
                            <input type="text" name="signer[].name"/>
                        </div>
                    </details>
                </div>`
            );
            $el.append(jQuery(
                '<button type="button" class="btn btn-default btn-xs remove"><span class="glyphicon glyphicon-trash"></span></button>'
            ).click((event) => {
                if(confirm('Are you sure about removing this field?')) {
                    jQuery(this).parent().detach();
                }
            }));
            jQuery(this).append($el);
        }
        }).sortable({
        items: '.drop-item',
        sort: function() {
            jQuery(this).removeClass( "active" );
        }
    });
</script>